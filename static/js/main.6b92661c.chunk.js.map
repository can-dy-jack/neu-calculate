{"version":3,"sources":["component/Alert.module.css","component/Alert.js","component/CalculatorButton.js","App.js","index.js"],"names":["module","exports","alert","alertContent","Alert","props","react_default","a","createElement","className","styles","style","color","marginRight","fill","width","height","strokeWidth","viewBox","xmlns","d","stroke","strokeLinecap","strokeLinejoin","info","CalculatorButton","_ref","val","func","calBtn","useRef","useEffect","circle","current","onmousedown","e","document","classList","add","left","clientX","offsetLeft","top","clientY","offsetTop","transform","appendChild","onmouseup","removeChild","oncontextmenu","preventDefault","Fragment","type","onClick","ref","CalculatorInner","stage","result","input_num","clear","funcs","window","onkeydown","code","shiftKey","percent","indexOf","length","sub","nega","multi","division","equal","point","component_CalculatorButton","Calculator","_useState","useState","_useState2","Object","slicedToArray","currOperator","setOperator","_useState3","_useState4","isCalculated","setIC","_useState5","_useState6","setLeft","_useState7","_useState8","right","setRight","_useState9","_useState10","setStage","_useState11","_useState12","alertStyle","setAlertStyles","alertBox","showAlert","i","c","children","setTimeout","normalOperation","text","undefined","id","component_Alert","num","parseFloat","res","parseInt","substring","ReactDOM","createRoot","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.6b92661c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"alert\":\"Alert_alert__1fElv\",\"alertContent\":\"Alert_alertContent__YZpa4\"};","import React from \"react\";\r\nimport styles from \"./Alert.module.css\";\r\n\r\nfunction Alert(props) { // color info\r\n    return (\r\n        <aside className={styles.alert}>\r\n            <div className={styles.alertContent} style={{\r\n                color: props.color\r\n            }}>\r\n                <svg style={{\r\n                    marginRight: \"5px\"\r\n                }}\r\n                fill=\"none\" width=\"22px\" height=\"22px\" strokeWidth=\"2\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M12 7v6M12 17.01l.01-.011M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z\" stroke={props.color} strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"></path>\r\n                </svg>\r\n                { props.info }\r\n                </div>\r\n        </aside>\r\n    )\r\n}\r\n\r\nexport default Alert;","import React, { useRef, useEffect } from \"react\";\r\nimport \"./calculatorButton.css\";\r\n\r\nfunction CalculatorButton({ val, func, className }) {\r\n  const calBtn = useRef();\r\n\r\n  useEffect(() => {\r\n    let circle;\r\n    calBtn.current.onmousedown = (e) => {\r\n      circle = document.createElement(\"span\");\r\n      circle.classList.add(\"cal-box-circle\");\r\n      circle.style.left = e.clientX - calBtn.current.offsetLeft + \"px\";\r\n      circle.style.top = e.clientY - calBtn.current.offsetTop + \"px\";\r\n      circle.style.transform = \"translate(-50%, -50%)\";\r\n      calBtn.current.appendChild(circle);\r\n    };\r\n    calBtn.current.onmouseup = () => {\r\n      if(circle) {\r\n        calBtn.current.removeChild(circle);\r\n      }\r\n    };\r\n    // TODO\r\n    calBtn.current.oncontextmenu = (e) => {\r\n      e.preventDefault();\r\n    }\r\n  });\r\n  return (\r\n    <>\r\n      <button\r\n        type=\"button\"\r\n        className={\"ccl-btn \" + className}\r\n        onClick={func}\r\n        ref={calBtn}\r\n      >\r\n        {val}\r\n      </button>\r\n    </>\r\n    \r\n  );\r\n}\r\nexport default CalculatorButton;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport Alert from \"./component/Alert\";\r\nimport CalculatorButton from \"./component/CalculatorButton\";\r\nimport \"./App.css\";\r\n\r\nfunction CalculatorInner({\r\n  stage,\r\n  result,\r\n  input_num,\r\n  clear,\r\n  funcs\r\n}) {\r\n  useEffect(() => {\r\n    // 监听键盘\r\n    window.onkeydown = (e) => {\r\n      const type = e.code;\r\n      // console.log(type, e.shiftKey)\r\n      if(e.shiftKey && type === \"Digit5\") { // shift + 5 => %\r\n        funcs.percent();\r\n        return;\r\n      }\r\n      if(type === 'Period' || type === \"NumpadDecimal\") { // .\r\n        funcs.point();\r\n        return;\r\n      }\r\n      if(type.indexOf(\"Digit\") > -1 || type.indexOf(\"Numpad\") > -1) { // 0-9\r\n        input_num(+type[type.length-1])\r\n      }\r\n      if(type === \"NumpadAdd\") { // +\r\n        funcs.add();\r\n      }\r\n      if(type === \"NumpadSubtract\") { // -\r\n        funcs.sub();\r\n      }\r\n      if(type === \"Minus\"){ // -\r\n        funcs.nega();\r\n      }\r\n\r\n      if(type === \"NumpadMultiply\") { // x\r\n        funcs.multi();\r\n      }\r\n      if(type === \"NumpadDivide\") { // /\r\n        funcs.division();\r\n      }\r\n      if(type === \"Equal\") { // =\r\n        funcs.equal();\r\n      }\r\n      if(type === \"Backspace\") { // Backspace\r\n        clear();\r\n      }\r\n    };\r\n  })\r\n\r\n  return (\r\n    <div className=\"calculator-grid-box\">\r\n      <div className=\"stage\">{stage}</div>\r\n      <div className=\"show\">\r\n        <span>{result}</span>\r\n      </div>\r\n\r\n      <CalculatorButton func={clear} val=\"AC\" className=\"ac\" />\r\n      <CalculatorButton val=\"+/-\" className=\"nega\" func={funcs.nega} />\r\n      <CalculatorButton val=\"%\" className=\"percent\" func={funcs.percent} />\r\n      <CalculatorButton val=\"÷\" className=\"division\" func={funcs.division} />\r\n\r\n      <CalculatorButton func={() => input_num(7)} val=\"7\" />\r\n      <CalculatorButton func={() => input_num(8)} val=\"8\" />\r\n      <CalculatorButton func={() => input_num(9)} val=\"9\" />\r\n      <CalculatorButton className=\"multi\" val=\"x\" func={funcs.multi} />\r\n\r\n      <CalculatorButton func={() => input_num(4)} val=\"4\" />\r\n      <CalculatorButton func={() => input_num(5)} val=\"5\" />\r\n      <CalculatorButton func={() => input_num(6)} val=\"6\" />\r\n      <CalculatorButton className=\"sub\" val=\"-\" func={funcs.sub} />\r\n\r\n      <CalculatorButton func={() => input_num(1)} val=\"1\" />\r\n      <CalculatorButton func={() => input_num(2)} val=\"2\" />\r\n      <CalculatorButton func={() => input_num(3)} val=\"3\" />\r\n      <CalculatorButton className=\"add\" val=\"+\" func={ funcs.add } />\r\n\r\n      <CalculatorButton className=\"zero\" val=\"0\" func={() => input_num(0)} />\r\n      <CalculatorButton val=\".\" func={funcs.point} />\r\n      <CalculatorButton val=\"=\" className=\"equal\" func={funcs.equal} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Calculator() {\r\n  const [currOperator, setOperator] = useState(\"\");\r\n  const [isCalculated, setIC] = useState(false);\r\n  const [left, setLeft] = useState(\"0\");\r\n  const [right, setRight] = useState(\"0\");\r\n  const [stage, setStage] = useState(\"\");\r\n\r\n  const [alertStyle, setAlertStyles] = useState([\r\n    \"出现错误\",\r\n    \"rgb(250, 13, 35)\",\r\n    // 用于防抖！\r\n    false,\r\n  ]);\r\n  const alertBox = useRef();\r\n  function showAlert(i, c) {\r\n    if (alertStyle[2]) {\r\n      return;\r\n    }\r\n    alertBox.current.children[0].style.transform = \"translateY(0)\";\r\n    setAlertStyles([i, c, true]);\r\n    setTimeout(() => {\r\n      alertBox.current.children[0].style.transform = \"translateY(-100%)\";\r\n      setAlertStyles([i, c, false]);\r\n    }, 3000);\r\n  }\r\n\r\n  const input_num = (num) => {\r\n    if (typeof num !== \"number\") {\r\n      showAlert(\"请给数字！(来自 input_num 函数)\", \"#22ef12\");\r\n      return;\r\n    }\r\n    if (isCalculated) {\r\n      setLeft(num + \"\");\r\n      setRight(\"\");\r\n      setOperator(\"\");\r\n      setIC(false);\r\n    } else {\r\n      if (currOperator === \"\") {\r\n        if (left === \"0\") {\r\n          setLeft(num + \"\");\r\n        } else {\r\n          setLeft(left + \"\" + num);\r\n        }\r\n      } else {\r\n        if (right === \"0\") {\r\n          setRight(num + \"\");\r\n        } else {\r\n          setRight(right + \"\" + num);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  const clear = () => {\r\n    setOperator(\"\");\r\n    setIC(false);\r\n    setLeft(\"0\");\r\n    setRight(\"\");\r\n    setStage(\"\");\r\n  };\r\n  const normalOperation = (type, text) => {\r\n    if (text === undefined) {\r\n      text = type;\r\n    }\r\n    setOperator(type);\r\n    setStage(left + text);\r\n    setRight(\"0\");\r\n    // 如果是刚计算完，就接着上一次的结果来计算；\r\n    // 避免按下一个数的时候清除该结果\r\n    if (isCalculated) {\r\n      setIC(false);\r\n    }\r\n  };\r\n  const add = () => normalOperation(\"+\"),\r\n    sub = () => normalOperation(\"-\"),\r\n    multi = () => normalOperation(\"*\", \"x\"),\r\n    division = () => normalOperation(\"/\", \"÷\");\r\n  const percent = () => {\r\n    if (currOperator === \"\") {\r\n      if (left === \"0\") {\r\n        showAlert(\"0% = 0 !!!\", \"#fff\");\r\n        return;\r\n      }\r\n      setLeft(parseFloat(left) / 100 + \"\");\r\n    } else {\r\n      if (right === \"0\") {\r\n        showAlert(\"0% = 0 !!!\", \"#fff\");\r\n        return;\r\n      }\r\n      setRight(parseFloat(right) / 100 + \"\");\r\n    }\r\n  };\r\n  const nega = () => {\r\n    if (currOperator === \"\") {\r\n      if (left === \"0\") {\r\n        showAlert(\"-0 === +0\", \"#fff\");\r\n        return;\r\n      }\r\n      setLeft(parseFloat(left) > 0 ? \"-\" + left : left.substring(1));\r\n    } else {\r\n      if (right === \"0\") {\r\n        showAlert(\"-0 === +0\", \"#fff\");\r\n        return;\r\n      }\r\n      setRight(parseFloat(right) > 0 ? \"-\" + right : right.substring(1));\r\n    }\r\n  };\r\n  const point = () => {\r\n    if (currOperator === \"\") {\r\n      if (~left.indexOf(\".\")) {\r\n        showAlert(\"已是小数！\", \"#f0f\");\r\n        return;\r\n      }\r\n      setLeft(left + \".\");\r\n    } else {\r\n      if (~right.indexOf(\".\")) {\r\n        showAlert(\"已是小数！\", \"#f0f\");\r\n        return;\r\n      }\r\n      setRight(right + \".\");\r\n    }\r\n  };\r\n\r\n  // TODO\r\n  const equal = () => {\r\n    let res;\r\n    switch (currOperator) {\r\n      case \"+\":\r\n        res = parseFloat(left) + parseFloat(right);\r\n        break;\r\n      case \"-\":\r\n        res = parseFloat(left) - parseFloat(right);\r\n        break;\r\n      case \"*\":\r\n        res = parseFloat(left) * parseFloat(right);\r\n        break;\r\n      case \"/\":\r\n        if (right === \"0\") {\r\n          showAlert(\"除数不能为零！\", \"rgb(250, 3, 5)\");\r\n          return;\r\n        }\r\n        res = parseInt(left) / parseInt(right);\r\n        break;\r\n      default:\r\n        showAlert(\"未定义的运算符！\", \"#ab2632\");\r\n        return;\r\n    }\r\n    setOperator(\"\");\r\n    setStage(stage + right + \"=\");\r\n    setLeft(res);\r\n    setRight(\"0\");\r\n    setIC(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div ref={alertBox} id=\"alert-box\">\r\n        <Alert info={alertStyle[0]} color={alertStyle[1]} />\r\n      </div>\r\n      <div className=\"calculator-container\" id=\"calculator-container\">\r\n        <div className=\"calculator-inner-box\">\r\n          <CalculatorInner\r\n            clear={clear}\r\n            input_num={input_num}\r\n            stage={stage}\r\n            result={currOperator === \"\" ? left : right}\r\n            funcs = {{\r\n              add, sub, division, multi, percent, equal, nega, point\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default Calculator;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport Calculator from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <Calculator />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}